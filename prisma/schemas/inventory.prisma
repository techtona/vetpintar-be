// ============================================
// INVENTORY & PRODUCTS
// ============================================

model Product {
  id            String          @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clinicId      String          @map("clinic_id") @db.Uuid
  name          String
  description   String?
  category      ProductCategory
  unit          String?
  price         Decimal         @db.Decimal(12, 2)
  stockQuantity Int             @default(0) @map("stock_quantity")
  minStockAlert Int             @default(10) @map("min_stock_alert")
  expiryDate    DateTime?       @map("expiry_date") @db.Date
  sku           String?         @unique
  barcode       String?
  photoUrl      String?         @map("photo_url")
  isActive      Boolean         @default(true) @map("is_active")
  createdAt     DateTime        @default(now()) @map("created_at")
  updatedAt     DateTime        @updatedAt @map("updated_at")

  // Relations
  clinic       Clinic        @relation(fields: [clinicId], references: [id], onDelete: Cascade)
  invoiceItems InvoiceItem[]

  @@map("products")
}
