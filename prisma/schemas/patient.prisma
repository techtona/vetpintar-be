// ============================================
// PATIENT MANAGEMENT
// ============================================

model Patient {
  id          String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  clinicId    String    @map("clinic_id") @db.Uuid
  ownerId     String    @map("owner_id") @db.Uuid
  name        String
  species     String
  breed       String?
  gender      String?
  birthDate   DateTime? @map("birth_date") @db.Date
  color       String?
  microchipId String?   @map("microchip_id")
  photoUrl    String?   @map("photo_url")
  isActive    Boolean   @default(true) @map("is_active")
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @updatedAt @map("updated_at")

  // Relations
  clinic         Clinic          @relation(fields: [clinicId], references: [id], onDelete: Cascade)
  owner          User            @relation(fields: [ownerId], references: [id], onDelete: Cascade)
  medicalRecords MedicalRecord[]
  invoices       Invoice[]
  appointments   Appointment[]

  @@map("patients")
}
